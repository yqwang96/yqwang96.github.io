---
title: '《Portraying ride-hailing mobility using multi-day trip order data: A case study of Beijing, China》学习整理'
date: 2023-12-15
permalink: /cnposts/2023/12/blog-post-10/
tags:
  - 论文精读
  - 网约出行
  - 数据挖掘
---

因为我想做的研究中设计了采用多天的数据，而这篇文章的题目还特意强调了它用的是多天的数据，所以就想了解下这篇文章是怎么突出多天数据这个特点的。论文的信息如下：He, Z. (2021). Portraying ride-hailing mobility using multi-day trip order data: A case study of Beijing, China. <b><i>Transportation Research Part A: Policy and Practice</i></b>, <i>146</i>(January), 152–169. https://doi.org/10.1016/j.tra.2021.01.017


## 0. 摘要

在移动互联网时代，网约车作为一种新兴的出行方式，它通过网络平台连接私家车司机与乘客，已经在全球范围内广受欢迎。尽管网约车受到了实践和理论界的广泛关注，但由于相关数据的匮乏，人们对其的了解仍然相对有限。本文首次提供了网约车司机多天的行程订单数据，并以此描述了中国北京地区网约车的流动性。通过从区域和司机两个不同的视角进行分析，不仅有助于我们理解网约车需求的时空分布，还能描绘出司机提供网约车服务时的偏好。研究结果包括观察城市居民如何在不同时间利用网约车服务的规律，以及网约车司机的活动空间与工作时间之间的相关性等。这些发现对于深入了解网约车活动、预测网约车需求、构建网约车司机偏好模型以及网约车服务的管理都具有重要意义。

## 1. 研究背景
网约出行服务作为新兴交通方式，吸引了很多人的使用。已经开展了许多研究来理解固定或兼职司机提供的服务以及乘客的使用习惯。这些研究主要依赖于三种数据来源，包括问卷调查数据、自行收集的运营数据和TNC公布的运营数据。这些数据源很大程度上影响了研究的结果产出。

问卷调查是现有网约车研究中最为关键的工具之一，它能深入了解网约车特性，特别是从微观角度分析个人的选择偏好。虽然问卷调查可以揭示许多潜在细节，例如服务选择的意向，但由于成本高昂，且受访者的回答可能与他们的实际行为不一致，因此存在局限性。

为此，研究者们采用了更多基于观察的数据来探索网约车活动。

+ <i>一些研究者通过计算机程序向网约车平台发送虚拟请求，记录了附近网约车的响应，这些数据后来用于评估旧金山网约车服务的时空特征。</i>
+ <i>一些研究者亲自驾驶网约车在美国丹佛进行了行程数据和乘客反馈的收集工作。他们不仅发现网约车的使用导致了车辆行驶公里数增加了83%，还调查了考虑到无乘客时的等待时间、司机住址等因素后，网约车司机的实际收入。</i>
+ <i>一些研究者在Uber的移动平台上开发了一个网页爬虫工具，收集了网约车的数据，并对网约车服务的市场份额以及出发地和目的地的分布等多个方面进行了分析。</i>

网约车平台往往都不愿意与研究人员或公众分享他们的数据。根据已有的有限数据，人们对网约车行为及其相关的人类移动性有了更全面的理解。

通过问卷调查和网约车运营数据，已有研究对网约车有了更深入的认识。但是，目前用于分析的数据依旧有限，这影响了我们对这种新兴出行模式及其对社会的影响的全面理解。

这篇研究通过分析多天的网约车**司机**活动数据，不仅深化了对城市内网约车需求时空动态的认识，还描绘了提供服务的网约车司机的行为特性。更详细地从**区域流动性**和**司机多日行为**两个角度描述了网约车活动，详尽地探讨了网约车行程的时间变化、空间流动，以及网约车司机行为的时空特征。这些发现对理解网约车活动、预测网约车需求、构建网约车司机偏好模型和管理网约车服务都具有重要价值。

## 2. 分析框架

### 2.1 符号说明

网约车行程的相关符号定义如下：令 $i = 1, 2, ..., I$代表司机，$I$ 为司机总数。$TR_{ij} = \{O_{ij}, D_{ij}\}$ 表示第 $i$ 位司机的第 $j$ 个行程，$j = 1, 2, ..., J$，$J$ 为司机 $i$ 的行程总数。$O_{ij}$ 和 $D_{ij}$ 分别指一个行程的起点和终点信息。为了简洁，用 $Ξ$ 代替 O 或 D。接下来，行程的起点或终点信息可以表示为 $Ξ_{ij} = \{t^Ξ_{ij}, lon^Ξ_{ij}, lat^Ξ_{ij}\}$，其中 $t^Ξ_{ij}$ 代表行程开始（即乘客上车）或结束（即乘客下车）的时间；$lon^Ξ_{ij}$  和 $lat^Ξ_{ij}$  为乘客上下车位置的经纬度。对于每个行程，我们可以计算其持续时间 $T_{ij}$ 和位移 $L_{ij}$，具体如下：

$$
\begin{cases}
T_{ij} = t^D_{ij} - t^O_{ij}\\
L_{ij} = dis((lon^D_{ij}, lat^D_{ij}), (lon^O_{ij}, lat^O_{ij}))
\end{cases}
$$

其中, $dis(·)$ 是计算地球表面两点间距离的函数。

### 2.2 数据描述
+ 北京市最大的TNC提供的数据，包含138,138名私家车司机的一周行程订单信息。这些司机在2018年8月的一周内共完成了5,289,045次网约车行程（订单）。在剔除了行程时间$T_{ij}≤0$ 的无效行程后，我们最终获得了5,041,455次（占95.3%）有效行程。

+ 从区域的视角，分析区域层面的网约车数据，即区域间乘客转移，可以揭示出行需求的动态。
+ 从司机的视角，分析网约车司机的多日行程数据可以更好地描述网约车司机的行为，并帮助理解供给侧的劳动力市场。


### 2.3 区域视角
+ 网约车行程的时间变化：分析了数据集中的每天的出行需求量、每天各个小时的需求量。
+ 网约车行程的空间流动：将北京市的区域进行空间划分，然后根据横纵坐标计算得到车辆落入的网格中，并定义了个阈值，网格在小时内出行量大于该阈值，则被定义为密集起点或终点网格。基于该划分，为早高峰、晚高峰和午夜绘制了热力图。
+ 区域起点或终点数量的多日可重复性：区域强度（即起点和终点数量）的多日可重复性与网约车活动预测密切相关。文中测量在所有工作日的时间间隔 k 内落入网格 (x,y) 的起点或终点数量的变异系数。结果中变异系数在大多数时间的值在0.15和0.25之间，表明无论是起点还是终点在一个区域内在每个工作日同一时间的数量并没有剧烈变化。
+ 区域分类：根据起点或终点数量峰值出现的时刻对城市区域进行分类。设置了一个滑动的时间窗口，计算网格在每个时间窗中的出行量，找到峰值。峰值区间首先应大于其他所有的区间的出行量，其次，峰值区间应大于平均出行量的一定倍率。文中，滑动时间窗的长度为5小时，倍率为2.

### 2.4 驾驶员视角
+ 驾驶员完成订单数量的经验累积分布：大部分司机是兼职驾驶员，只有一小部分为全职工作。
+ 订单的行程时间和位移的log-log曲线的尾部遵循幂律分布，表明偶尔会有长距离行程的存在。
+ 时间特征描述：哪个时间段是司机提供网约车服务的首选。
+ 空间特征描述：使用层次聚类方法来聚集一个司机所有行程的起点和终点位置。输入是一个司机一周内所有的起点和终点位置数据，而测量两点间距离的度量标准是地球表面上的距离。另外，了解了群集距离对聚类结果的影响。群集距离大致上表明了一个聚类中司机的活动密度，即，接受长途或短途行程的偏好。群集距离越大，一个聚类中活动密度越低，也就是越倾向于短途行程需求。
  + 大多数司机不愿意前往距离他们常规巡游区域（即，最大群集）10公里以外的地方。
  + 一部分司机在空间上工作密集（对应峰值的司机），而另一部分司机工作相对宽松；
  + 工作时间与活动空间之间的相关性大致是线性正相关的，即，工作时间的增加会导致司机的活动空间扩大。


## 3. 个人总结
+ 这篇文章没有采取什么很深奥的方法，大多是做的基本分析。但是，从基本分析的角度也发现了一些很有意思的结果，并且图画的很好看，值得学习。
+ 文中所采用的方法有：时段出行量统计、空间区域出行量统计、变异系数、谱聚类、时空图、经验累积分布、loglog曲线

**参考文献**
1. He, Z. (2021). Portraying ride-hailing mobility using multi-day trip order data: A case study of Beijing, China. <b><i>Transportation Research Part A: Policy and Practice</i></b>, <i>146</i>(January), 152–169. https://doi.org/10.1016/j.tra.2021.01.017